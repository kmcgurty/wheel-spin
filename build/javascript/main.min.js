/* 
 Source: https://github.com/kmcgurty/ 
 Build date: 04-22-2016 
*/ 
 "use strict" 
function draw(){var a=circleVars;ctx.save(),ctx.clearRect(0,0,a.width,a.height),
//reset the rotation angle back to 0 so it isn't infinitely growing
a.circleAngle>=a.fullRotation?(a.circleAngle=0,a.startAngle=0):a.circleAngle+=round(a.rotationAngle*deg2rad),ctx.translate(a.centerX,a.centerY),ctx.rotate(a.circleAngle);for(var b=0;b<options.data.length;b++){ctx.fillStyle=options.data[b].color,ctx.beginPath(),ctx.moveTo(0,0),ctx.arc(0,0,a.radius,a.startAngle,a.endAngle+a.startAngle),ctx.lineTo(0,0),ctx.fill(),ctx.save();var c=Math.cos(a.endAngle/4)*(a.radius/4),d=Math.sin(a.endAngle/4)*(a.radius/4)-options.draw.textSize/2,e=a.startAngle+a.endAngle/2;ctx.rotate(e),ctx.font=options.draw.textSize+"px Arial",ctx.fillStyle="black",ctx.fillText(options.data[b].text,c,d),ctx.restore(),a.startAngle+=a.endAngle}ctx.restore(),
//triangle
ctx.fillStyle="orange",ctx.beginPath(),ctx.moveTo(a.width,a.centerY-25),ctx.lineTo(a.width,a.centerY+25),ctx.lineTo(a.width-15,a.centerY),ctx.fill(),a.rotationAngle>=0?(a.rotationAngle-=options.draw.decreaseRate,requestAnimationFrame(draw)):canvas.hasClicked=!1}function round(a){return Math.round(100*a)/100}function getRandomColor(){return COLOR_LIST[Math.floor(Math.random()*COLOR_LIST.length)]}var options={COLOR_LIST:["#003366","#336699","#3366CC","#003399","#000099","#0000CC","#000066","#006666","#006699","#0099CC","#0066CC","#0033CC","#0000FF","#3333FF","#333399","#669999","#009999","#33CCCC","#00CCFF","#0099FF","#0066FF","#3366FF","#3333CC","#666699","#339966","#00CC99","#00FFCC","#00FFFF","#33CCFF","#3399FF","#6699FF","#6666FF","#6600FF","#6600CC","#339933","#00CC66","#00FF99","#66FFCC","#66FFFF","#66CCFF","#99CCFF","#9999FF","#9966FF","#9933FF","#9900FF","#006600","#00CC00","#00FF00","#66FF99","#99FFCC","#CCFFFF","#CCCCFF","#CC99FF","#CC66FF","#CC33FF","#CC00FF","#9900CC","#003300","#009933","#33CC33","#66FF66","#99FF99","#CCFFCC","#FFFFFF","#FFCCFF","#FF99FF","#FF66FF","#FF00FF","#CC00CC","#660066","#336600","#009900","#66FF33","#99FF66","#CCFF99","#FFFFCC","#FFCCCC","#FF99CC","#FF66CC","#FF33CC","#CC0099","#993399","#333300","#669900","#99FF33","#CCFF66","#FFFF99","#FFCC99","#FF9999","#FF6699","#FF3399","#CC3399","#990099","#666633","#99CC00","#CCFF33","#FFFF66","#FFCC66","#FF9966","#FF6666","#FF0066","#CC6699","#993366","#999966","#CCCC00","#FFFF00","#FFCC00","#FF9933","#FF6600","#FF5050","#CC0066","#660033","#996633","#CC9900","#FF9900","#CC6600","#FF3300","#FF0000","#CC0000","#990033","#663300","#CC3300","#993300","#990000","#800000"],data:[{text:"option 1",color:"red"},{text:"option 2",color:"blue"},{text:"option 3",color:"purple"},{text:"option 4",color:"yellow"},{text:"option 5",color:"gray"}],draw:{textSize:25,//px
startingSpeed:20,//deg
decreaseRate:.05}},canvas=document.querySelector("canvas"),ctx=canvas.getContext("2d"),deg2rad=Math.PI/180,rad2deg=180/Math.PI,circleVars={width:canvas.width,height:canvas.height,centerX:canvas.width/2,centerY:canvas.height/2,fullRotation:round(360*deg2rad),startAngle:0,endAngle:2*Math.PI/options.data.length,circleAngle:0,rotationAngle:0,radius:canvas.width/2};draw(),canvas.addEventListener("click",function(){var a=circleVars.rotationAngle<35&&circleVars.rotationAngle>15,b=!!this.hasClicked;a?circleVars.rotationAngle+=5:b||(circleVars.rotationAngle=options.draw.startingSpeed,requestAnimationFrame(draw)),this.hasClicked=!0});